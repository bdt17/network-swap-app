<!DOCTYPE html>
<html>
<head>
  <title>Inventory - Thomas IT Network Swap</title>
  <style>
    body { font-family: -apple-system, sans-serif; margin: 40px; background: #f8f9fa; }
    .card { background: white; padding: 24px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); margin-bottom: 24px; }
    .stats { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 32px; }
    .stat { text-align: center; padding: 20px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border-radius: 12px; }
    table { width: 100%; border-collapse: collapse; }
    th, td { padding: 12px; text-align: left; border-bottom: 1px solid #eee; }
    th { background: #f8f9fa; font-weight: 600; }
    .status-active { background: #d4edda; color: #155724; padding: 4px 12px; border-radius: 20px; font-size: 12px; }
    .status-eol { background: #f8d7da; color: #721c24; padding: 4px 12px; border-radius: 20px; font-size: 12px; }
  </style>
</head>
<body>
  <div class="card">
    <h1 style="font-size: 2.5rem; margin: 0 0 24px 0; color: #333;">Network Inventory</h1>
    <div class="stats">
      <div class="stat">
        <div style="font-size: 2.5rem; font-weight: bold;"><%= Device.where(active: true).count %></div>
        <div>Active Devices</div>
      </div>
      <div class="stat">
        <div style="font-size: 2.5rem; font-weight: bold;"><%= Device.where(active: false).count %></div>
        <div>EOL Devices</div>
      </div>
      <div class="stat">
        <div style="font-size: 2.5rem; font-weight: bold;"><%= Site.count %></div>
        <div>Locations</div>
      </div>
    </div>
  </div>

  <div class="card">
    <h2 style="margin: 0 0 20px 0; color: #333;">Active Inventory</h2>
    <table>
      <thead>
        <tr>
          <th>Device Name</th>
          <th>Site</th>
          <th>Model</th>
          <th>Status</th>
          <th>Vendor</th>
        </tr>
      </thead>
      <tbody>
        <% Device.where(active: true).limit(25).each do |device| %>
        <tr>
          <td style="font-family: monospace;"><%= device.name %></td>
          <td><%= device.site&.name || 'Unassigned' %></td>
          <td><%= device.model %></td>
          <td><span class="status-active">Active</span></td>
          <td><%= device.vendor&.name || 'N/A' %></td>
        </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</body>
</html>
